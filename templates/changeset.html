<h1>Recent Changesets</h1>
{% import 'macros.html' as macros -%}

{% if csets|length==0 -%}
No changesets.

{% else %}

<ul>
{% for cid in csets -%}
{% set info = csetinfo[cid] -%}

<!-- Changeset {{cid}} source type {{info.source.dtype}} seqno {{info.source.sequenceno}} -->
{% if info.misc.state=='new' -%}
<li class="cset new" data-timestamp="{{info.misc.timestamp|js_datetime}} UTC" data-timestamp_type="{{info.misc.timestamp_type_txt}}">
{% else -%}
<li class="cset" data-timestamp="{{info.misc.timestamp|js_datetime}} UTC" data-timestamp_type="{{info.misc.timestamp_type_txt}}">
{% endif -%}
  {{ macros.cset_head_ul(info) }}
  {% if show_details %}
  <ul class="details">
    {{ macros.cset_change_summary(info) }}
    {{ macros.cset_tags(info) }}
    {{ macros.cset_tagdiff(info) }}
    {{ macros.affected_users_li(info) }}
  {% endif -%}

  {% if show_comments and info.meta.comments_count>0 %}
  {{ macros.cset_notes_li(info) }}
  {% endif -%}
  </ul>
</li>

{% endfor -%}
</ul>
{% endif -%}
